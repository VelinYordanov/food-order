<section *ngIf="restaurant$ | async; let restaurant">
    <form>
        <div>
            <mat-form-field class="form-field">
                <mat-label>Name</mat-label>
                <input matInput
                    [value]="restaurant.name">
            </mat-form-field>
        </div>
        <div>
            <mat-form-field class="example-full-width">
                <mat-label>Description</mat-label>
                <textarea matInput
                    [value]="restaurant.description"></textarea>
            </mat-form-field>
        </div>
        <div>
            <mat-chip-list aria-label="Categories">
                <mat-chip *ngFor="let category of getCategories(restaurant.categories)"
                    [removable]="true"
                    (removed)="setCategoryToBeDeleted(category.id); deleteCategorySwal.fire()"
                    [value]="category.id">
                    {{category.name}}
                    <mat-icon matChipRemove>cancel</mat-icon>
                    <swal #deleteCategorySwal
                        title="Delete category {{category.name}}"
                        text="Are you sure you want to delete category {{category.name}}?"
                        [showCancelButton]="true"
                        [showLoaderOnConfirm]="true"
                        [preConfirm]="deleteCategoryFunction"
                        (confirm)="$event ? deletedCategorySwal.fire() : deleteErrorSwal.fire()"
                        icon="question"></swal>
                    <swal #deletedCategorySwal
                        title="Success!"
                        text="Category {{category.name}} deleted successfully!"
                        icon="success"></swal>
                    <swal #deleteErrorSwal
                        title="Error!"
                        text="Error occurred when deleting category {{category.name}}. Try again later."
                        icon="error"></swal>
                </mat-chip>
            </mat-chip-list>
        </div>
        <div>
            <div *ngFor="let food of restaurant.foods">
                <p>{{food.name}}</p>
                <p>{{food.description}}</p>
                <p>{{food.price}}</p>
                <mat-chip-list aria-label="Categories">
                    <mat-chip *ngFor="let category of food.categories"
                        [value]="category.id">
                        {{category.name}}
                    </mat-chip>
                </mat-chip-list>
            </div>
        </div>
    </form>
</section>